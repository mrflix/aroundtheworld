doctype 5
title Around the World
link(rel='stylesheet', href='/css/style.css')

mixin uppercased(name)
  transport.charAt(0).toLocaleUpperCase() + transport.slice(1)

.arche
  header
    h1= trip.name
    p= trip.description

  .articles
    article.article.editor
      form
        h2 New Journey

        label(for="from") From
        .from.inputStyle.hasLocalization
          input(id="from")
          .localizeMe
            | localize
            .icon.localize

        label(for="to") To
        .to.inputStyle.hasLocalization
          input(id="to")
          .localizeMe 
            | localize
            .icon.localize

        label(for="transport") Transport
        .select.inputStyle
          transports = ["car", "bus", "bike", "train", "foot", "plane", "ship"]
          .transport.icon.car(data-classes=transports)
          select(id="transport")
            each transport in transports
              option(value="#{transport}")= transport
          .arrow ◀︎

        label(for="story") Story
        textarea(id="story")

        label.button.addImages(for="images")
          span.icon.plus
          | Images
        input(id="images", type="file", multiple, accept="image/*")

        .button.publish.callToAction
          span.icon.tick
          | Publish
    each section in trip.sections
      article(class="article #{section.type}")
        case section.type
          when 'destination'
            h2= section.location.name
          when 'journey'
            h2 From #{section.from.name} to #{section.to.name}
            .meta
              span.transport By #{section.transport}
        p= section.story
        if section.gallery
          .gallery
            each image in section.gallery
              figure
                img(src="#{image.url}")
                if image.caption
                  figcaption= image.caption

script(src='/js/zepto.min.js')
script(src='/js/trip.js')